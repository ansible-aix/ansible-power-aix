.. _geninstall_module:


geninstall -- Generic installer for various packaging formats.
==============================================================

.. contents::
   :local:
   :depth: 1


Synopsis
--------

A generic installer that installs software products of various packaging formats.

For example, installp, RPM, SI, and ISMP.



Requirements
------------
The below requirements are needed on the host that executes this module.

- AIX >= 7.1 TL3
- Python >= 2.7



Parameters
----------

  action (optional, str, install)
    Controls what is performed.

    ``install`` performs an install of the specified software.

    ``uninstall`` performs an uninstall of the specified software.

    ``list`` lists the contents of the media.


  device (optional, str, None)
    Specifies the device or directory that contains the images to install.

    The geninstall command searches for the images in the following paths /mount_point/installp/ppc (installp package), /mount_point/RPMS/ppc (RPM package), /mount_point/emgr/ppc (Interim fix packages for AIX), /mount_point/ISMP/ppc (ISMP packages for AIX).

    If the paths do not exist, it searches in the base directory of the specific device. If the image names are not preceded by a prefix that indicates the image type, it identifies a type for the image.

    If the paths exist and the image is not found in any path, and if the image does not contain any prefix, the image is treated as an RPM-formatted image.


  install_list (optional, list, [])
    List of products to install

    ``all`` installs all products

    ``update_all`` updates all products


  force (optional, bool, False)
    Force the operation allowing to reinstall a package that is already installed, or to install a package that is older than the currently installed version.


  agree_licenses (optional, bool, False)
    Agrees to required software license agreements for software to be installed.


  installp_flags (optional, str, None)
    Specifies the installp flags to use when calling the installp command.





Notes
-----

.. note::
   - You can refer to the IBM documentation for additional information on the geninstall command at https://www.ibm.com/support/knowledgecenter/ssw_aix_72/g_commands/geninstall.html




Examples
--------

.. code-block:: yaml+jinja

    
    - name: Install all the products on a CD media
      geninstall:
        device: /dev/cd0
        install_list: all

    - name: Install an interim fix located in /images/emgr/ppc directory
      geninstall:
        device: /images
        install_list: IV12345.160101.epkg.Z



Return Values
-------------

msg (always, str, Invalid parameter: install_list cannot be empty)
  The execution message.


cmd (always, str, )
  The command executed.


rc (When the command is executed., int, )
  The command return code.


stdout (always, str, bin:bin:::J:::::::bin Product::::\nsbin:sbin:::J:::::::sbin Product::::)
  The standard output of the command.


stderr (always, str, 0503-105 geninstall: The device or directory: /dev/cd0 does not exist.)
  The standard error of the command.





Status
------




- This module is not guaranteed to have a backwards compatible interface. *[preview]*


- This module is maintained by community.



Authors
~~~~~~~

- AIX Development Team (@pbfinley1911)

